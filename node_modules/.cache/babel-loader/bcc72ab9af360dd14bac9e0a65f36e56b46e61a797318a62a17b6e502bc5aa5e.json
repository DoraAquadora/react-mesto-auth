{"ast":null,"code":"import _slicedToArray from\"C:/Users/Huawei/Desktop/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useState,useEffect}from'react';import PopupWithForm from'../PopupWithForm/PopupWithForm';import{CurrentUserContext}from'../../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser,isBtnLoading=_ref.isBtnLoading;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var currentUser=useContext(CurrentUserContext);// После загрузки текущего пользователя из API\n// его данные будут использованы в управляемых компонентах.\nuseEffect(function(){if(isOpen){setName(currentUser.name);setDescription(currentUser.about);}},[currentUser,isOpen]);function handleSubmit(e){e.preventDefault();onUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsxs(PopupWithForm,{id:\"popup-edit-form\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",type:\"form_name\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,isBtnLoading:isBtnLoading,submitBtn:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0435\\u043D\\u0438\\u0435...\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"\\u0418\\u043C\\u044F\",required:true,minLength:\"2\",maxLength:\"40\",className:\"popup__input popup__input_field_title\",id:\"name-input\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{className:\"popup__field\",children:/*#__PURE__*/_jsx(\"span\",{className:\"name-input-error popup__error popup__error-field\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"about\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",required:true,minLength:\"2\",maxLength:\"200\",className:\"popup__input popup__input_field_text\",id:\"about-input\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{className:\"popup__field\",children:/*#__PURE__*/_jsx(\"span\",{className:\"about-input-error popup__error popup__error-field\"})})]});}export default EditProfilePopup;","map":{"version":3,"names":["useContext","useState","useEffect","PopupWithForm","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","_ref","isOpen","onClose","onUpdateUser","isBtnLoading","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","description","setDescription","currentUser","about","handleSubmit","e","preventDefault","id","title","type","onSubmit","submitBtn","children","placeholder","required","minLength","maxLength","className","value","onChange","target"],"sources":["C:/Users/Huawei/Desktop/mesto-react/src/components/EditProfilePopup/EditProfilePopup.js"],"sourcesContent":["import { useContext, useState, useEffect } from 'react'\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm'\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext'\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isBtnLoading }) {\r\n\r\n  const [name, setName] = useState('')\r\n  const [description, setDescription] = useState('')\r\n\r\n  const currentUser = useContext(CurrentUserContext)\r\n\r\n  // После загрузки текущего пользователя из API\r\n  // его данные будут использованы в управляемых компонентах.\r\n  useEffect(() => {\r\n    if(isOpen) {\r\n      setName(currentUser.name)\r\n      setDescription(currentUser.about)\r\n    }\r\n  }, [currentUser, isOpen])\r\n\r\n  function handleSubmit(e) {\r\n     e.preventDefault()\r\n\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      id=\"popup-edit-form\"\r\n      title=\"Редактировать профиль\"\r\n      type=\"form_name\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isBtnLoading={isBtnLoading}\r\n      submitBtn=\"Сохранение...\"\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        name=\"name\"\r\n        placeholder=\"Имя\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        className=\"popup__input popup__input_field_title\"\r\n        id=\"name-input\"\r\n        value={name}\r\n        onChange={(e) => setName(e.target.value)}\r\n      />\r\n      <div className=\"popup__field\">\r\n        <span className=\"name-input-error popup__error popup__error-field\"></span>\r\n      </div>\r\n      <input\r\n        type=\"text\"\r\n        name=\"about\"\r\n        placeholder=\"О себе\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        className=\"popup__input popup__input_field_text\"\r\n        id=\"about-input\"\r\n        value={description}\r\n        onChange={(e) => setDescription(e.target.value)}\r\n      />\r\n      <div className=\"popup__field\">\r\n        <span className=\"about-input-error popup__error popup__error-field\"></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}